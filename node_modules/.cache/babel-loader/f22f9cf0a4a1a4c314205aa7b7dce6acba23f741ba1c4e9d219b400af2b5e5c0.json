{"ast":null,"code":"import _classCallCheck from\"/Users/vanessander/Desktop/random/face-recognition-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/vanessander/Desktop/random/face-recognition-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/vanessander/Desktop/random/face-recognition-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/vanessander/Desktop/random/face-recognition-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';// import Particles from 'react-particles-js'; \nimport ParticlesBg from'particles-bg';import Clarifai from'clarifai';import FaceRecognition from'./components/FaceRecognition/FaceRecognition';import Navigation from'./components/Navigation/Navigation';import Signin from'./components/Signin/Signin';import Register from'./components/Register/Register';import Logo from'./components/Logo/Logo';import ImageLinkForm from'./components/ImageLinkForm/ImageLinkForm';import Rank from'./components/Rank/Rank';import'./App.css';//You must add your own API key from Clarifai.\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var app=new Clarifai.App({apiKey:'290a89524e274b8c8cb3dfdf6f5385fd'});// No Longer need this. Updated to particles-bg\n// const particlesOptions = {\n//   particles: {\n//     number: {\n//       value: 30,\n//       density: {\n//         enable: true,\n//         value_area: 800\n//       }\n//     }\n//   }\n// }\nvar App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.loadUser=function(data){_this.setState({user:{id:data.id,name:data.name,email:data.email,entries:data.entries,joined:data.joined}});};_this.calculateFaceLocation=function(data){var clarifaiFace=data.outputs[0].data.regions[0].region_info.bounding_box;var image=document.getElementById('inputimage');var width=Number(image.width);var height=Number(image.height);return{leftCol:clarifaiFace.left_col*width,topRow:clarifaiFace.top_row*height,rightCol:width-clarifaiFace.right_col*width,bottomRow:height-clarifaiFace.bottom_row*height};};_this.displayFaceBox=function(box){_this.setState({box:box});};_this.onInputChange=function(event){_this.setState({input:event.target.value});};_this.onButtonSubmit=function(){_this.setState({imageUrl:_this.state.input});// HEADS UP! Sometimes the Clarifai Models can be down or not working as they are constantly getting updated.\n// A good way to check if the model you are using is up, is to check them on the clarifai website. For example,\n// for the Face Detect Mode: https://www.clarifai.com/models/face-detection\n// If that isn't working, then that means you will have to wait until their servers are back up. \napp.models.predict('face-detection',_this.state.input).then(function(response){console.log('hi',response);if(response){fetch('http://localhost:3000/image',{method:'put',headers:{'Content-Type':'application/json'},body:JSON.stringify({id:_this.state.user.id})}).then(function(response){return response.json();}).then(function(count){_this.setState(Object.assign(_this.state.user,{entries:count}));});}_this.displayFaceBox(_this.calculateFaceLocation(response));}).catch(function(err){return console.log(err);});};_this.onRouteChange=function(route){if(route==='signout'){_this.setState({isSignedIn:false});}else if(route==='home'){_this.setState({isSignedIn:true});}_this.setState({route:route});};_this.state={input:'',imageUrl:'',box:{},route:'signin',isSignedIn:false,user:{id:'',name:'',email:'',entries:0,joined:''}};return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this$state=this.state,isSignedIn=_this$state.isSignedIn,imageUrl=_this$state.imageUrl,route=_this$state.route,box=_this$state.box;return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(ParticlesBg,{type:\"random\",bg:true}),/*#__PURE__*/_jsx(Navigation,{isSignedIn:isSignedIn,onRouteChange:this.onRouteChange}),route==='home'?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Logo,{}),/*#__PURE__*/_jsx(Rank,{name:this.state.user.name,entries:this.state.user.entries}),/*#__PURE__*/_jsx(ImageLinkForm,{onInputChange:this.onInputChange,onButtonSubmit:this.onButtonSubmit}),/*#__PURE__*/_jsx(FaceRecognition,{box:box,imageUrl:imageUrl})]}):route==='signin'?/*#__PURE__*/_jsx(Signin,{loadUser:this.loadUser,onRouteChange:this.onRouteChange}):/*#__PURE__*/_jsx(Register,{loadUser:this.loadUser,onRouteChange:this.onRouteChange})]});}}]);return App;}(Component);export default App;","map":{"version":3,"names":["React","Component","ParticlesBg","Clarifai","FaceRecognition","Navigation","Signin","Register","Logo","ImageLinkForm","Rank","jsx","_jsx","jsxs","_jsxs","app","App","apiKey","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","call","loadUser","data","setState","user","id","name","email","entries","joined","calculateFaceLocation","clarifaiFace","outputs","regions","region_info","bounding_box","image","document","getElementById","width","Number","height","leftCol","left_col","topRow","top_row","rightCol","right_col","bottomRow","bottom_row","displayFaceBox","box","onInputChange","event","input","target","value","onButtonSubmit","imageUrl","state","models","predict","then","response","console","log","fetch","method","headers","body","JSON","stringify","json","count","Object","assign","catch","err","onRouteChange","route","isSignedIn","_createClass","key","render","_this$state","className","children","type","bg"],"sources":["/Users/vanessander/Desktop/random/face-recognition-frontend/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\n// import Particles from 'react-particles-js'; \nimport ParticlesBg from 'particles-bg'\nimport Clarifai from 'clarifai';\nimport FaceRecognition from './components/FaceRecognition/FaceRecognition';\nimport Navigation from './components/Navigation/Navigation';\nimport Signin from './components/Signin/Signin';\nimport Register from './components/Register/Register';\nimport Logo from './components/Logo/Logo';\nimport ImageLinkForm from './components/ImageLinkForm/ImageLinkForm';\nimport Rank from './components/Rank/Rank';\nimport './App.css';\n\n//You must add your own API key from Clarifai.\nconst app = new Clarifai.App({\n apiKey: '290a89524e274b8c8cb3dfdf6f5385fd'\n});\n\n\n// No Longer need this. Updated to particles-bg\n// const particlesOptions = {\n//   particles: {\n//     number: {\n//       value: 30,\n//       density: {\n//         enable: true,\n//         value_area: 800\n//       }\n//     }\n//   }\n// }\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      input: '',\n      imageUrl: '',\n      box: {},\n      route: 'signin',\n      isSignedIn: false,\n      user: {\n        id: '',\n        name: '',\n        email: '',\n        entries: 0,\n        joined: ''\n      }\n    }\n  }\n\n  loadUser = (data) => {\n    this.setState({user: {\n      id: data.id,\n      name: data.name,\n      email: data.email,\n      entries: data.entries,\n      joined: data.joined\n    }})\n  }\n\n  calculateFaceLocation = (data) => {\n    const clarifaiFace = data.outputs[0].data.regions[0].region_info.bounding_box;\n    const image = document.getElementById('inputimage');\n    const width = Number(image.width);\n    const height = Number(image.height);\n    return {\n      leftCol: clarifaiFace.left_col * width,\n      topRow: clarifaiFace.top_row * height,\n      rightCol: width - (clarifaiFace.right_col * width),\n      bottomRow: height - (clarifaiFace.bottom_row * height)\n    }\n  }\n\n  displayFaceBox = (box) => {\n    this.setState({box: box});\n  }\n\n  onInputChange = (event) => {\n    this.setState({input: event.target.value});\n  }\n\n  onButtonSubmit = () => {\n    this.setState({imageUrl: this.state.input});\n   \n    // HEADS UP! Sometimes the Clarifai Models can be down or not working as they are constantly getting updated.\n    // A good way to check if the model you are using is up, is to check them on the clarifai website. For example,\n    // for the Face Detect Mode: https://www.clarifai.com/models/face-detection\n    // If that isn't working, then that means you will have to wait until their servers are back up. \n\n    app.models.predict('face-detection', this.state.input)\n      .then(response => {\n        console.log('hi', response)\n        if (response) {\n          fetch('http://localhost:3000/image', {\n            method: 'put',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify({\n              id: this.state.user.id\n            })\n          })\n            .then(response => response.json())\n            .then(count => {\n              this.setState(Object.assign(this.state.user, { entries: count}))\n            })\n\n        }\n        this.displayFaceBox(this.calculateFaceLocation(response))\n      })\n      .catch(err => console.log(err));\n  }\n\n  onRouteChange = (route) => {\n    if (route === 'signout') {\n      this.setState({isSignedIn: false})\n    } else if (route === 'home') {\n      this.setState({isSignedIn: true})\n    }\n    this.setState({route: route});\n  }\n\n  render() {\n    const { isSignedIn, imageUrl, route, box } = this.state;\n    return (\n      <div className=\"App\">\n        <ParticlesBg type=\"random\" bg={true} />\n        <Navigation isSignedIn={isSignedIn} onRouteChange={this.onRouteChange} />\n        { route === 'home'\n          ? <div>\n              <Logo />\n              <Rank\n                name={this.state.user.name}\n                entries={this.state.user.entries}\n              />\n              <ImageLinkForm\n                onInputChange={this.onInputChange}\n                onButtonSubmit={this.onButtonSubmit}\n              />\n              <FaceRecognition box={box} imageUrl={imageUrl} />\n            </div>\n          : (\n             route === 'signin'\n             ? <Signin loadUser={this.loadUser} onRouteChange={this.onRouteChange}/>\n             : <Register loadUser={this.loadUser} onRouteChange={this.onRouteChange}/>\n            )\n        }\n      </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}